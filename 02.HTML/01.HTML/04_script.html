<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scriptè¦ç´ ã®é…ç½®å ´æ‰€ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            text-align: center;
            padding: 40px 20px;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .content {
            padding: 40px;
        }
        
        .placement-option {
            background: white;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        
        .placement-option:hover {
            transform: translateY(-5px);
        }
        
        .option-header {
            padding: 25px;
            color: white;
            font-size: 1.3em;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .head-placement {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        }
        
        .body-top-placement {
            background: linear-gradient(45deg, #feca57, #ff9f43);
        }
        
        .body-bottom-placement {
            background: linear-gradient(45deg, #48ca9a, #00d2d3);
        }
        
        .external-placement {
            background: linear-gradient(45deg, #a55eea, #8b78f6);
        }
        
        .option-content {
            padding: 30px;
        }
        
        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .pros {
            background: linear-gradient(145deg, #d4edda, #c3e6cb);
            border-left: 4px solid #28a745;
            padding: 20px;
            border-radius: 8px;
        }
        
        .cons {
            background: linear-gradient(145deg, #f8d7da, #f1b9bc);
            border-left: 4px solid #dc3545;
            padding: 20px;
            border-radius: 8px;
        }
        
        .code-example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            position: relative;
            white-space: pre-wrap;
        }
        
        .code-example::before {
            content: attr(data-label);
            position: absolute;
            top: -10px;
            left: 15px;
            background: #4a5568;
            color: #e2e8f0;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .timeline-demo {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .timeline-item {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .timeline-item:hover {
            transform: translateX(10px);
        }
        
        .parsing {
            background: linear-gradient(145deg, #e3f2fd, #bbdefb);
            border-left: 4px solid #2196f3;
        }
        
        .blocking {
            background: linear-gradient(145deg, #ffebee, #ffcdd2);
            border-left: 4px solid #f44336;
        }
        
        .execution {
            background: linear-gradient(145deg, #e8f5e8, #c8e6c9);
            border-left: 4px solid #4caf50;
        }
        
        .best-practice {
            background: linear-gradient(145deg, #fff3e0, #ffe0b2);
            border: 2px solid #ff9800;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .attribute-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .attribute-table th,
        .attribute-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .attribute-table th {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            font-weight: bold;
        }
        
        .attribute-table tr:hover {
            background: #f5f5f5;
        }
        
        .demo-section {
            background: #f0fffe;
            border: 2px solid #4ecdc4;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .demo-button {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .demo-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .performance-impact {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .impact-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .impact-card:hover {
            transform: translateY(-5px);
        }
        
        .impact-good {
            border-top: 4px solid #28a745;
        }
        
        .impact-warning {
            border-top: 4px solid #ffc107;
        }
        
        .impact-bad {
            border-top: 4px solid #dc3545;
        }
        
        @media (max-width: 768px) {
            .pros-cons {
                grid-template-columns: 1fr;
            }
            
            .content {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš¡ scriptè¦ç´ ã®é…ç½®å ´æ‰€</h1>
            <p>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’è€ƒæ…®ã—ãŸæœ€é©ãªé…ç½®æ–¹æ³•</p>
        </div>
        
        <div class="content">
            <div class="best-practice">
                <h3>ğŸ¯ çµè«–ï¼ˆç¾ä»£ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ï¼‰</h3>
                <p><strong>æ¨å¥¨ï¼š</strong> <code>&lt;body&gt;</code>ã®é–‰ã˜ã‚¿ã‚°ç›´å‰ã«<code>defer</code>å±æ€§ä»˜ãã§é…ç½®</p>
                <div class="code-example" data-label="æ¨å¥¨ã•ã‚Œã‚‹é…ç½®">
&lt;body&gt;
    &lt;!-- HTMLã‚³ãƒ³ãƒ†ãƒ³ãƒ„ --&gt;
    &lt;h1&gt;ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«&lt;/h1&gt;
    &lt;p&gt;ã‚³ãƒ³ãƒ†ãƒ³ãƒ„&lt;/p&gt;
    
    &lt;!-- JavaScriptã¯æœ€å¾Œã«èª­ã¿è¾¼ã¿ --&gt;
    &lt;script defer src="main.js"&gt;&lt;/script&gt;
&lt;/body&gt;
                </div>
            </div>

            <div class="placement-option">
                <div class="option-header head-placement">
                    <span>ğŸ </span>
                    <span>&lt;head&gt;å†…ã«é…ç½®</span>
                </div>
                <div class="option-content">
                    <div class="code-example" data-label="headå†…é…ç½®">
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«&lt;/title&gt;
    &lt;script src="script.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- HTMLã‚³ãƒ³ãƒ†ãƒ³ãƒ„ --&gt;
&lt;/body&gt;
                    </div>
                    
                    <div class="pros-cons">
                        <div class="pros">
                            <h4>âœ… ãƒ¡ãƒªãƒƒãƒˆ</h4>
                            <ul>
                                <li>è¨­å®šã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ—©æœŸåˆæœŸåŒ–</li>
                                <li>HTMLè§£æå‰ã«ã‚³ãƒ¼ãƒ‰ãŒåˆ©ç”¨å¯èƒ½</li>
                                <li>ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šã«é©ã—ã¦ã„ã‚‹</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <h4>âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</h4>
                            <ul>
                                <li>HTMLè¡¨ç¤ºãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹</li>
                                <li>DOMè¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„</li>
                                <li>ãƒšãƒ¼ã‚¸è¡¨ç¤ºãŒé…ããªã‚‹å¯èƒ½æ€§</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="timeline-demo">
                        <h4>ğŸ“Š èª­ã¿è¾¼ã¿ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼š</h4>
                        <div class="timeline-item parsing">
                            <strong>1.</strong> HTMLè§£æé–‹å§‹
                        </div>
                        <div class="timeline-item blocking">
                            <strong>2.</strong> scriptè¦ç´ ã«é­é‡ â†’ HTMLè§£æåœæ­¢
                        </div>
                        <div class="timeline-item execution">
                            <strong>3.</strong> JavaScriptãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»å®Ÿè¡Œ
                        </div>
                        <div class="timeline-item parsing">
                            <strong>4.</strong> HTMLè§£æå†é–‹ â†’ ãƒšãƒ¼ã‚¸è¡¨ç¤º
                        </div>
                    </div>
                </div>
            </div>

            <div class="placement-option">
                <div class="option-header body-top-placement">
                    <span>ğŸ”</span>
                    <span>&lt;body&gt;ã®é–‹å§‹ç›´å¾Œ</span>
                </div>
                <div class="option-content">
                    <div class="code-example" data-label="bodyé–‹å§‹ç›´å¾Œ">
&lt;body&gt;
    &lt;script src="analytics.js"&gt;&lt;/script&gt;
    
    &lt;!-- HTMLã‚³ãƒ³ãƒ†ãƒ³ãƒ„ --&gt;
    &lt;h1&gt;ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«&lt;/h1&gt;
&lt;/body&gt;
                    </div>
                    
                    <div class="pros-cons">
                        <div class="pros">
                            <h4>âœ… ãƒ¡ãƒªãƒƒãƒˆ</h4>
                            <ul>
                                <li>ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ç­‰ã®æ—©æœŸå®Ÿè¡Œ</li>
                                <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•ã®å®Œå…¨ãªè¿½è·¡</li>
                                <li>åˆæœŸåŒ–å‡¦ç†ã«é©ã—ã¦ã„ã‚‹</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <h4>âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</h4>
                            <ul>
                                <li>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤ºã®é…å»¶</li>
                                <li>DOMè¦ç´ ã¯ã¾ã å­˜åœ¨ã—ãªã„</li>
                                <li>ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã«å½±éŸ¿</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="placement-option">
                <div class="option-header body-bottom-placement">
                    <span>â¬‡ï¸</span>
                    <span>&lt;/body&gt;ã®ç›´å‰ï¼ˆæ¨å¥¨ï¼‰</span>
                </div>
                <div class="option-content">
                    <div class="code-example" data-label="bodyçµ‚äº†ç›´å‰ï¼ˆæ¨å¥¨ï¼‰">
&lt;body&gt;
    &lt;!-- HTMLã‚³ãƒ³ãƒ†ãƒ³ãƒ„ --&gt;
    &lt;h1&gt;ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«&lt;/h1&gt;
    &lt;p&gt;ã‚³ãƒ³ãƒ†ãƒ³ãƒ„&lt;/p&gt;
    
    &lt;!-- ãƒšãƒ¼ã‚¸æœ€å¾Œã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿ --&gt;
    &lt;script src="main.js"&gt;&lt;/script&gt;
&lt;/body&gt;
                    </div>
                    
                    <div class="pros-cons">
                        <div class="pros">
                            <h4>âœ… ãƒ¡ãƒªãƒƒãƒˆ</h4>
                            <ul>
                                <li>HTMLè¡¨ç¤ºãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œãªã„</li>
                                <li>å…¨ã¦ã®DOMè¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½</li>
                                <li>å„ªã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“</li>
                                <li>å¾“æ¥ã®æ¨™æº–çš„ãªé…ç½®æ–¹æ³•</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <h4>âš ï¸ æ³¨æ„ç‚¹</h4>
                            <ul>
                                <li>å¤§ããªã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯èª­ã¿è¾¼ã¿ãŒé…ã„</li>
                                <li>DOMContentLoadedå¾…ã¡ãŒå¿…è¦</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="timeline-demo">
                        <h4>ğŸ“Š èª­ã¿è¾¼ã¿ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼š</h4>
                        <div class="timeline-item parsing">
                            <strong>1.</strong> HTMLè§£æ â†’ ãƒšãƒ¼ã‚¸è¡¨ç¤º
                        </div>
                        <div class="timeline-item execution">
                            <strong>2.</strong> JavaScriptãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»å®Ÿè¡Œ
                        </div>
                        <div class="timeline-item execution">
                            <strong>3.</strong> ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ãŒæœ‰åŠ¹åŒ–
                        </div>
                    </div>
                </div>
            </div>

            <div class="placement-option">
                <div class="option-header external-placement">
                    <span>ğŸš€</span>
                    <span>å±æ€§ã‚’ä½¿ã£ãŸæœ€é©åŒ–</span>
                </div>
                <div class="option-content">
                    <h4>deferå±æ€§ï¼ˆæ¨å¥¨ï¼‰ï¼š</h4>
                    <div class="code-example" data-label="deferå±æ€§ï¼ˆç¾ä»£ã®æ¨å¥¨æ–¹æ³•ï¼‰">
&lt;head&gt;
    &lt;script defer src="main.js"&gt;&lt;/script&gt;
    &lt;script defer src="utils.js"&gt;&lt;/script&gt;
&lt;/head&gt;
                    </div>
                    
                    <h4>asyncå±æ€§ï¼š</h4>
                    <div class="code-example" data-label="asyncå±æ€§">
&lt;head&gt;
    &lt;script async src="analytics.js"&gt;&lt;/script&gt;
    &lt;script async src="ads.js"&gt;&lt;/script&gt;
&lt;/head&gt;
                    </div>
                    
                    <table class="attribute-table">
                        <tr>
                            <th>å±æ€§</th>
                            <th>èª­ã¿è¾¼ã¿</th>
                            <th>å®Ÿè¡Œ</th>
                            <th>ç”¨é€”</th>
                        </tr>
                        <tr>
                            <td><strong>ãªã—</strong></td>
                            <td>HTMLè§£æã‚’ãƒ–ãƒ­ãƒƒã‚¯</td>
                            <td>å³åº§ã«å®Ÿè¡Œ</td>
                            <td>é‡è¦ãªåˆæœŸåŒ–ã‚³ãƒ¼ãƒ‰</td>
                        </tr>
                        <tr>
                            <td><strong>defer</strong></td>
                            <td>ä¸¦è¡Œã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</td>
                            <td>HTMLè§£æå®Œäº†å¾Œ</td>
                            <td>DOMæ“ä½œã‚’è¡Œã†ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</td>
                        </tr>
                        <tr>
                            <td><strong>async</strong></td>
                            <td>ä¸¦è¡Œã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</td>
                            <td>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†æ¬¡ç¬¬</td>
                            <td>ç‹¬ç«‹ã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆ</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="demo-section">
                <h3>ğŸ§ª å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®å¯è¦–åŒ–ãƒ‡ãƒ¢</h3>
                <p>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ç•°ãªã‚‹é…ç½®æ–¹æ³•ã§ã®å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’ç¢ºèªï¼š</p>
                
                <button class="demo-button" onclick="showTimingDemo('normal')">é€šå¸¸ã®script</button>
                <button class="demo-button" onclick="showTimingDemo('defer')">deferå±æ€§</button>
                <button class="demo-button" onclick="showTimingDemo('async')">asyncå±æ€§</button>
                <button class="demo-button" onclick="showTimingDemo('bottom')">bodyæœ«å°¾</button>
                
                <div id="timing-demo" class="timeline-demo">
                    ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ‡ãƒ¢ã‚’é–‹å§‹
                </div>
            </div>

            <div class="performance-impact">
                <div class="impact-card impact-good">
                    <h4>ğŸš€ æœ€é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</h4>
                    <p><strong>deferå±æ€§ + headå†…</strong></p>
                    <ul>
                        <li>ä¸¦è¡Œãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</li>
                        <li>HTMLè¡¨ç¤ºã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„</li>
                        <li>é©åˆ‡ãªå®Ÿè¡Œé †åº</li>
                    </ul>
                </div>
                
                <div class="impact-card impact-good">
                    <h4>âœ… è‰¯å¥½ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</h4>
                    <p><strong>bodyæœ«å°¾é…ç½®</strong></p>
                    <ul>
                        <li>HTMLè¡¨ç¤ºå„ªå…ˆ</li>
                        <li>DOMæ“ä½œå¯èƒ½</li>
                        <li>å®‰å…¨ãªå®Ÿè¡Œç’°å¢ƒ</li>
                    </ul>
                </div>
                
                <div class="impact-card impact-warning">
                    <h4>âš ï¸ æ¡ä»¶ä»˜ãã§ä½¿ç”¨</h4>
                    <p><strong>asyncå±æ€§</strong></p>
                    <ul>
                        <li>ç‹¬ç«‹ã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆå‘ã‘</li>
                        <li>å®Ÿè¡Œé †åºã¯ä¸å®š</li>
                        <li>ä¾å­˜é–¢ä¿‚ã«æ³¨æ„</li>
                    </ul>
                </div>
                
                <div class="impact-card impact-bad">
                    <h4>âŒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ</h4>
                    <p><strong>headå†…ï¼ˆå±æ€§ãªã—ï¼‰</strong></p>
                    <ul>
                        <li>HTMLè§£æã‚’ãƒ–ãƒ­ãƒƒã‚¯</li>
                        <li>è¡¨ç¤ºã®é…å»¶</li>
                        <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ‚ªåŒ–</li>
                    </ul>
                </div>
            </div>

            <div class="best-practice">
                <h3>ğŸ’¡ å®Ÿè·µçš„ãªé…ç½®æˆ¦ç•¥</h3>
                
                <h4>ğŸ¯ ç”¨é€”åˆ¥ã®æ¨å¥¨é…ç½®ï¼š</h4>
                <div class="code-example" data-label="å®Œç’§ãªscripté…ç½®ä¾‹">
&lt;!DOCTYPE html&gt;
&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;æœ€é©åŒ–ã•ã‚ŒãŸãƒšãƒ¼ã‚¸&lt;/title&gt;
    
    &lt;!-- é‡è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆæ—©æœŸèª­ã¿è¾¼ã¿ã€é †åºé‡è¦ï¼‰ --&gt;
    &lt;script defer src="vendor/jquery.js"&gt;&lt;/script&gt;
    &lt;script defer src="vendor/bootstrap.js"&gt;&lt;/script&gt;
    
    &lt;!-- ãƒ¡ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ --&gt;
    &lt;script defer src="js/main.js"&gt;&lt;/script&gt;
    
    &lt;!-- ç‹¬ç«‹ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ï¼ˆé †åºä¸å•ï¼‰ --&gt;
    &lt;script async src="analytics.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ --&gt;
    &lt;h1&gt;ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«&lt;/h1&gt;
    
    &lt;!-- æ¡ä»¶ä»˜ãã§èª­ã¿è¾¼ã‚€ã‚¹ã‚¯ãƒªãƒ—ãƒˆ --&gt;
    &lt;script&gt;
    if (userNeedsAdvancedFeatures) {
        import('./advanced-features.js')
            .then(module =&gt; module.initialize());
    }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
                </div>
                
                <h4>ğŸ“‹ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼š</h4>
                <ul>
                    <li>âœ… DOMæ“ä½œã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯<code>defer</code>å±æ€§ã‚’ä½¿ç”¨</li>
                    <li>âœ… ç‹¬ç«‹ã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆAnalyticsç­‰ï¼‰ã¯<code>async</code>å±æ€§</li>
                    <li>âœ… é‡è¦ã§ãªã„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯å‹•çš„èª­ã¿è¾¼ã¿ã‚’æ¤œè¨</li>
                    <li>âœ… ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä¾å­˜é–¢ä¿‚ã‚’æ˜ç¢ºã«ã™ã‚‹</li>
                    <li>âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šãƒ„ãƒ¼ãƒ«ã§ç¢ºèª</li>
                </ul>
            </div>

            <div class="timeline-demo">
                <h3>â±ï¸ ãƒ¢ãƒ€ãƒ³ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿æ‰‹æ³•</h3>
                
                <h4>1. ES Modulesï¼ˆæ¨å¥¨ï¼‰ï¼š</h4>
                <div class="code-example" data-label="ES Modules">
&lt;script type="module" src="main.js"&gt;&lt;/script&gt;

// main.js
import { initializeApp } from './app.js';
import { setupEventListeners } from './events.js';

document.addEventListener('DOMContentLoaded', () =&gt; {
    initializeApp();
    setupEventListeners();
});
                </div>
                
                <h4>2. å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼š</h4>
                <div class="code-example" data-label="å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ">
// æ¡ä»¶ä»˜ãã§æ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã¿
async function loadFeature() {
    if (shouldLoadFeature) {
        const { feature } = await import('./feature.js');
        feature.initialize();
    }
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«å¿œã˜ã¦èª­ã¿è¾¼ã¿
button.addEventListener('click', async () =&gt; {
    const { handleClick } = await import('./click-handler.js');
    handleClick();
});
                </div>
                
                <h4>3. Service Workeræ´»ç”¨ï¼š</h4>
                <div class="code-example" data-label="Service Worker">
// ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„é‡è¦ã§ãªã„å‡¦ç†
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js')
        .then(() =&gt; {
            // ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§é‡ã„å‡¦ç†ã‚’å®Ÿè¡Œ
        });
}
                </div>
            </div>
        </div>
    </div>

    <script>
        function showTimingDemo(type) {
            const demo = document.getElementById('timing-demo');
            
            const demos = {
                normal: `<h4>ğŸ”´ é€šå¸¸ã®scriptè¦ç´ ï¼ˆheadå†…ï¼‰:</h4>
<div class="timeline-item parsing">â³ HTMLè§£æé–‹å§‹</div>
<div class="timeline-item blocking">ğŸ›‘ scriptè¦ç´ ã«é­é‡ â†’ è§£æåœæ­¢</div>
<div class="timeline-item execution">ğŸ“¥ JavaScriptãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</div>
<div class="timeline-item execution">âš¡ JavaScriptå®Ÿè¡Œ</div>
<div class="timeline-item parsing">ğŸ”„ HTMLè§£æå†é–‹</div>
<div class="timeline-item execution">ğŸ¨ ãƒšãƒ¼ã‚¸è¡¨ç¤º</div>
<p><strong>å•é¡Œï¼š</strong> JavaScriptå‡¦ç†ä¸­ã¯ãƒšãƒ¼ã‚¸è¡¨ç¤ºãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹</p>`,

                defer: `<h4>ğŸŸ¢ deferå±æ€§ä»˜ãscript:</h4>
<div class="timeline-item parsing">â³ HTMLè§£æé–‹å§‹</div>
<div class="timeline-item execution">ğŸ“¥ JavaScriptä¸¦è¡Œãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰é–‹å§‹</div>
<div class="timeline-item parsing">ğŸ¨ ãƒšãƒ¼ã‚¸è¡¨ç¤ºï¼ˆè§£æç¶™ç¶šï¼‰</div>
<div class="timeline-item execution">âœ… HTMLè§£æå®Œäº†</div>
<div class="timeline-item execution">âš¡ JavaScriptå®Ÿè¡Œ</div>
<p><strong>ãƒ¡ãƒªãƒƒãƒˆï¼š</strong> ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’å¦¨ã’ãšã€DOMæ“ä½œã‚‚å®‰å…¨</p>`,

                async: `<h4>ğŸŸ¡ asyncå±æ€§ä»˜ãscript:</h4>
<div class="timeline-item parsing">â³ HTMLè§£æé–‹å§‹</div>
<div class="timeline-item execution">ğŸ“¥ JavaScriptä¸¦è¡Œãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰é–‹å§‹</div>
<div class="timeline-item blocking">âš¡ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†æ¬¡ç¬¬ã™ãå®Ÿè¡Œ</div>
<div class="timeline-item parsing">ğŸ”„ HTMLè§£æå†é–‹</div>
<div class="timeline-item execution">ğŸ¨ ãƒšãƒ¼ã‚¸è¡¨ç¤º</div>
<p><strong>æ³¨æ„ï¼š</strong> å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒä¸å®šã€DOMæœªå®Œæˆã®å¯èƒ½æ€§</p>`,

                bottom: `<h4>ğŸ”µ bodyæœ«å°¾é…ç½®:</h4>
<div class="timeline-item parsing">â³ HTMLè§£æ</div>
<div class="timeline-item execution">ğŸ¨ ãƒšãƒ¼ã‚¸è¡¨ç¤º</div>
<div class="timeline-item execution">ğŸ“¥ JavaScripté–‹å§‹</div>
<div class="timeline-item execution">âš¡ JavaScriptå®Ÿè¡Œ</div>
<div class="timeline-item execution">ğŸš€ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½æœ‰åŠ¹åŒ–</div>
<p><strong>ç‰¹å¾´ï¼š</strong> ç¢ºå®Ÿã«DOMå®Œæˆå¾Œå®Ÿè¡Œã€é †æ¬¡èª­ã¿è¾¼ã¿</p>`
            };
            
            demo.innerHTML = demos[type] || 'ãƒ‡ãƒ¢ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“';
        }
        
        // åˆæœŸãƒ‡ãƒ¢è¡¨ç¤º
        showTimingDemo('defer');
    </script>
</body>
</html>